<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lâmpada</title>
    <link rel="stylesheet" href="estilo.css">
   
</head>
<body>
    <header>
        <h1>Lâmpada</h1>
        <h3>(clicar duas vezes na lâmpada pode haver consequências..)</h3>
    </header>
    
    <main>
        <div>
            <img src="Imagens/desligada.jpg" alt="desligada" id="lamp" ondblclick="broken()">
        </div>
        <div>
        <button onclick="turnOn()">Ligar</button>
        <button onclick="turnOff()">Desligar</button>
        </div>
        <script src="lampada.js"></script>
      
    </main> 
    <script>
let img = document.getElementById('lamp');
let isBroken = false;

function turnOn(){

    if(!isBroken){

        img.src = "./Imagens/ligada.jpg"


    }

    const audio = new Audio('interruptor som.mp3')
audio.play();



}

function turnOff(){

if(!isBroken){

    img.src = "./Imagens/desligada.jpg"
  


}
const audio = new Audio('interruptor som.mp3')
audio.play();



}




function broken(){
    img.src = "./Imagens/quebrada.jpg"
    const audio = new Audio('quebrando.mp3')
  audio.play();
  // mensagem com tempo

  setTimeout(function(){

alert('Olhe o que você fez! agora a lâmpada está quebrada. Recarregue a página pois ela não ligará mais desse jeito.')

}, 2000)

  isBroken = true; // define que lampada quebrou
  // removendo os eventos abaixo: 

  img.removeAttribute('ondblclick')
}

    </script>
</body>
</html>